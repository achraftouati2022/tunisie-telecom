{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\achraf\\\\Desktop\\\\mern stack\\\\tteq\\\\src\\\\components\\\\todos-list.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Input } from \"semantic-ui-react\";\nimport ReactTable from \"react-table\";\nimport 'react-table/react-table.css';\nimport { Link } from 'react-router-dom'; //import \"./styles.css\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Genres = ({\n  values\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: values.map((genre, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge\",\n        children: genre\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_c = Genres;\nexport default class TodosList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        searchInput: event.target.value\n      }, () => {\n        this.globalSearch();\n      });\n    };\n\n    this.globalSearch = () => {\n      let {\n        searchInput,\n        todos\n      } = this.state;\n      let filteredData = todos.filter(value => {\n        return value.central.toLowerCase().includes(searchInput.toLowerCase()) || value.constructeur.toLowerCase().includes(searchInput.toLowerCase()) || value.type.toLowerCase().includes(searchInput.toLowerCase());\n      });\n      this.setState({\n        filteredData\n      });\n    };\n\n    this.deleteTodo = this.deleteTodo.bind(this);\n    this.state = {\n      todos: [],\n      filteredData: [],\n      loading: true,\n      searchInput: \"\"\n    };\n  }\n\n  async getTodos() {\n    axios.get('http://localhost:4000/todos/').then(response => {\n      console.log(response.data);\n      this.setState({\n        todos: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.getTodos();\n  }\n\n  deleteTodo(id) {\n    axios.delete('http://localhost:4000/todos/' + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      todos: this.state.todos.filter(el => el._id !== id)\n    });\n  }\n\n  render() {\n    let {\n      filteredData,\n      todos,\n      searchInput\n    } = this.state;\n    const columns = [{\n      Header: 'Central',\n      accessor: 'central'\n    }, {\n      Header: 'Constructeur',\n      accessor: 'constructeur'\n    }, {\n      Header: 'Type',\n      accessor: 'type',\n      Cell: ({\n        cell: {\n          value\n        }\n      }) => /*#__PURE__*/_jsxDEV(Genres, {\n        values: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }, this)\n    }, {\n      Header: 'Equipements',\n      accessor: 'equipements'\n    }, {\n      Header: 'Nombre abonnées',\n      accessor: 'nombreab'\n    }, {\n      Header: 'Taux',\n      accessor: 'taux'\n    }, {\n      Header: 'Actions',\n      accessor: 'actions',\n      Cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/edit/\" + row.original._id,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 10\n        }, this), \" | \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          onClick: () => {\n            this.deleteTodo(row.original._id);\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        size: \"large\",\n        name: \"searchInput\",\n        value: searchInput || \"\",\n        onChange: this.handleChange,\n        label: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactTable, {\n        data: filteredData && filteredData.length ? filteredData : todos,\n        columns: columns,\n        defaultPageSize: 10,\n        className: \"-striped -highlight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Genres\");","map":{"version":3,"sources":["C:/Users/achraf/Desktop/mern stack/tteq/src/components/todos-list.component.js"],"names":["React","Component","axios","Input","ReactTable","Link","Genres","values","map","genre","idx","TodosList","constructor","props","handleChange","event","setState","searchInput","target","value","globalSearch","todos","state","filteredData","filter","central","toLowerCase","includes","constructeur","type","deleteTodo","bind","loading","getTodos","get","then","response","console","log","data","catch","error","componentDidMount","id","delete","el","_id","render","columns","Header","accessor","Cell","cell","row","original","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Input } from \"semantic-ui-react\";\r\nimport ReactTable from \"react-table\"; \r\nimport 'react-table/react-table.css'\r\nimport { Link } from 'react-router-dom';\r\n//import \"./styles.css\";\r\nconst Genres = ({ values }) => {\r\n  return (\r\n    <>\r\n      {values.map((genre, idx) => {\r\n        return (\r\n          <span key={idx} className=\"badge\">\r\n            {genre}\r\n          </span>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\nexport default class TodosList extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.deleteTodo = this.deleteTodo.bind(this)\r\n    this.state = {\r\n      todos: [],\r\n      filteredData: [],\r\n      loading:true,\r\n      searchInput: \"\"\r\n\r\n    }\r\n  }\r\n  async getTodos() {\r\n    axios.get('http://localhost:4000/todos/')\r\n        .then(response => {\r\n          console.log(response.data)\r\n\r\n            this.setState(\r\n                {\r\n                    todos: response.data,\r\n            });\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        })\r\n}\r\n  componentDidMount(){\r\n    this.getTodos()\r\n  }\r\n  deleteTodo(id) {\r\n    axios.delete('http://localhost:4000/todos/'+id)\r\n      .then(response => { console.log(response.data)});\r\n\r\n    this.setState({\r\n      todos: this.state.todos.filter(el => el._id !== id)\r\n    })\r\n  }\r\n  handleChange = event => {\r\n    this.setState({ searchInput: event.target.value }, () => {\r\n      this.globalSearch();\r\n    });\r\n  };\r\n\r\n  globalSearch = () => {\r\n    let { searchInput,todos } = this.state;\r\n    let filteredData = todos.filter(value => {\r\n      return (\r\n        value.central.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.constructeur.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.type.toLowerCase().includes(searchInput.toLowerCase()) \r\n\r\n      );\r\n    });\r\n    this.setState({  filteredData });\r\n  };\r\n \r\n  render() {\r\n    let { filteredData,todos, searchInput } = this.state;\r\n\r\n    const columns = [{  \r\n      Header: 'Central',  \r\n      accessor: 'central',\r\n     }\r\n     ,{  \r\n      Header: 'Constructeur',  \r\n      accessor: 'constructeur' ,\r\n      }\r\n     \r\n     ,{  \r\n     Header: 'Type',  \r\n     accessor: 'type' ,\r\n     Cell: ({ cell: { value } }) => <Genres values={value} />\r\n     }\r\n     ,{  \r\n     Header: 'Equipements',  \r\n     accessor: 'equipements',\r\n     },\r\n     {  \r\n      Header: 'Nombre abonnées',  \r\n      accessor: 'nombreab',\r\n      },\r\n      {  \r\n        Header: 'Taux',  \r\n        accessor: 'taux',\r\n        },\r\n        {  \r\n          Header: 'Actions',  \r\n          accessor: 'actions',\r\n          \r\n      Cell: (row) => (\r\n        \r\n        <div>\r\n\r\n         <Link to={\"/edit/\"+row.original._id}>Edit</Link> | <a href=\"#\" onClick={() => { this.deleteTodo(row.original._id) }}>Delete</a>\r\n         </div>\r\n      )\r\n                    }\r\n            \r\n  ]\r\n    return (\r\n      <div>\r\n        <br />\r\n        <Input\r\n          size=\"large\"\r\n          name=\"searchInput\"\r\n          value={searchInput || \"\"}\r\n          onChange={this.handleChange}\r\n          label=\"Search\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <ReactTable\r\n          data={filteredData && filteredData.length ? filteredData : todos}\r\n          columns={columns}\r\n          defaultPageSize={10}\r\n          className=\"-striped -highlight\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}