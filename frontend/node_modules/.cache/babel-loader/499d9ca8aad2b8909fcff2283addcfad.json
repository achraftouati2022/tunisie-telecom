{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\achraf\\\\Desktop\\\\mern stack\\\\tteq\\\\src\\\\components\\\\todos-list.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Input } from \"semantic-ui-react\";\nimport ReactTable from \"react-table\";\nimport 'react-table/react-table.css';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TodosList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        searchInput: event.target.value\n      }, () => {\n        this.globalSearch();\n      });\n    };\n\n    this.globalSearch = () => {\n      let {\n        searchInput\n      } = this.state;\n      let filteredData = this.state.todos.filter(value => {\n        return value.status.toLowerCase().includes(searchInput.toLowerCase()) || value.status.toLowerCase().includes(searchInput.toLowerCase()) || value.visits.toString().toLowerCase().includes(searchInput.toLowerCase());\n      });\n      this.setState({\n        data: filteredData\n      });\n    };\n\n    this.deleteTodo = this.deleteTodo.bind(this);\n    this.state = {\n      todos: [],\n      data: todos,\n      loading: true,\n      searchInput: \"\"\n    };\n  }\n\n  async getTodos() {\n    axios.get('http://localhost:4000/todos/').then(response => {\n      console.log(response.data);\n      this.setState({\n        todos: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.getTodos();\n  }\n\n  deleteTodo(id) {\n    axios.delete('http://localhost:4000/todos/' + id).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      todos: this.state.todos.filter(el => el._id !== id)\n    });\n  }\n\n  render() {\n    const columns = [{\n      Header: 'Central',\n      accessor: 'central'\n    }, {\n      Header: 'Constructeur',\n      accessor: 'constructeur'\n    }, {\n      Header: 'Type',\n      accessor: 'type'\n    }, {\n      Header: 'Equipements',\n      accessor: 'equipements'\n    }, {\n      Header: 'Nombre abonnées',\n      accessor: 'nombreab'\n    }, {\n      Header: 'Taux',\n      accessor: 'taux'\n    }, {\n      Header: 'Actions',\n      accessor: 'actions',\n      Cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/edit/\" + row.original._id,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 10\n        }, this), \" | \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          onClick: () => {\n            this.deleteTodo(row.original._id);\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(ReactTable, {\n      data: this.state.todos,\n      columns: columns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/achraf/Desktop/mern stack/tteq/src/components/todos-list.component.js"],"names":["React","Component","axios","Input","ReactTable","Link","TodosList","constructor","props","handleChange","event","setState","searchInput","target","value","globalSearch","state","filteredData","todos","filter","status","toLowerCase","includes","visits","toString","data","deleteTodo","bind","loading","getTodos","get","then","response","console","log","catch","error","componentDidMount","id","delete","el","_id","render","columns","Header","accessor","Cell","row","original"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Input } from \"semantic-ui-react\";\r\nimport ReactTable from \"react-table\"; \r\nimport 'react-table/react-table.css'\r\nimport { Link } from 'react-router-dom';\r\nimport \"./styles.css\";\r\n\r\nexport default class TodosList extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.deleteTodo = this.deleteTodo.bind(this)\r\n    this.state = {\r\n      todos: [],\r\n      data: todos,\r\n      loading:true,\r\n      searchInput: \"\"\r\n\r\n    }\r\n  }\r\n  async getTodos() {\r\n    axios.get('http://localhost:4000/todos/')\r\n        .then(response => {\r\n          console.log(response.data)\r\n\r\n            this.setState(\r\n                {\r\n                    todos: response.data,\r\n            });\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        })\r\n}\r\n  componentDidMount(){\r\n    this.getTodos()\r\n  }\r\n  deleteTodo(id) {\r\n    axios.delete('http://localhost:4000/todos/'+id)\r\n      .then(response => { console.log(response.data)});\r\n\r\n    this.setState({\r\n      todos: this.state.todos.filter(el => el._id !== id)\r\n    })\r\n  }\r\n  handleChange = event => {\r\n    this.setState({ searchInput: event.target.value }, () => {\r\n      this.globalSearch();\r\n    });\r\n  };\r\n\r\n  globalSearch = () => {\r\n    let { searchInput } = this.state;\r\n    let filteredData = this.state.todos.filter(value => {\r\n      return (\r\n        value.status.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.status.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        value.visits\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(searchInput.toLowerCase())\r\n      );\r\n    });\r\n    this.setState({ data: filteredData });\r\n  };\r\n  render() {\r\n    const columns = [{  \r\n      Header: 'Central',  \r\n      accessor: 'central',\r\n     }\r\n     ,{  \r\n      Header: 'Constructeur',  \r\n      accessor: 'constructeur' ,\r\n      }\r\n     \r\n     ,{  \r\n     Header: 'Type',  \r\n     accessor: 'type' ,\r\n     }\r\n     ,{  \r\n     Header: 'Equipements',  \r\n     accessor: 'equipements',\r\n     },\r\n     {  \r\n      Header: 'Nombre abonnées',  \r\n      accessor: 'nombreab',\r\n      },\r\n      {  \r\n        Header: 'Taux',  \r\n        accessor: 'taux',\r\n        },\r\n        {  \r\n          Header: 'Actions',  \r\n          accessor: 'actions',\r\n          \r\n      Cell: (row) => (\r\n        \r\n        <div>\r\n\r\n         <Link to={\"/edit/\"+row.original._id}>Edit</Link> | <a href=\"#\" onClick={() => { this.deleteTodo(row.original._id) }}>Delete</a>\r\n         </div>\r\n      )\r\n                    }\r\n            \r\n  ]\r\n    return (\r\n      <ReactTable  \r\n      data={this.state.todos}  \r\n      columns={columns}  \r\n   />\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}